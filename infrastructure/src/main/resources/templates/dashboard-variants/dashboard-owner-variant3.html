<!DOCTYPE html>
<html lang="no" x-data="ownerDashboard()">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kø-eier Dashboard - Variant 3 (Analytics)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .pulse-dot { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .gauge-container { position: relative; width: 120px; height: 60px; }
        .gauge-fill { transition: stroke-dashoffset 0.5s ease; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <!-- Header -->
    <nav class="bg-gradient-to-r from-orange-500 to-amber-500 text-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center gap-4">
                    <div class="w-10 h-10 rounded-xl bg-white/20 backdrop-blur flex items-center justify-center font-bold">SQ</div>
                    <span class="font-semibold text-xl">Simple Queue Analytics</span>
                </div>
                <div class="flex items-center gap-4">
                    <div class="hidden md:flex items-center gap-6 text-sm font-medium">
                        <a href="#" class="text-white border-b-2 border-white pb-1">Oversikt</a>
                        <a href="#" class="text-white/80 hover:text-white pb-1">Køer</a>
                        <a href="#" class="text-white/80 hover:text-white pb-1">Rapporter</a>
                        <a href="#" class="text-white/80 hover:text-white pb-1">Innstillinger</a>
                    </div>
                    <button class="bg-white/20 hover:bg-white/30 backdrop-blur px-4 py-2 rounded-lg font-medium text-sm">
                        <i class="fas fa-plus mr-2"></i>Ny kø
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Top Stats with Gauges -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <!-- Gauge Card 1 -->
            <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-200">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <p class="text-sm text-slate-500 font-medium">Kunder i dag</p>
                        <p class="text-3xl font-bold text-slate-900 mt-1">247</p>
                    </div>
                    <div class="w-16 h-16 rounded-full bg-gradient-to-br from-orange-100 to-amber-100 flex items-center justify-center">
                        <i class="fas fa-users text-2xl text-orange-500"></i>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <span class="px-2 py-1 bg-emerald-100 text-emerald-700 rounded text-xs font-semibold">
                        <i class="fas fa-arrow-up mr-1"></i>+12%
                    </span>
                    <span class="text-xs text-slate-500">vs i går</span>
                </div>
                <!-- Mini chart -->
                <canvas id="chart1" class="mt-4 h-16 w-full"></canvas>
            </div>

            <!-- Gauge Card 2 -->
            <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-200">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <p class="text-sm text-slate-500 font-medium">Ventetid</p>
                        <p class="text-3xl font-bold text-slate-900 mt-1">8m 32s</p>
                    </div>
                    <div class="w-16 h-16 rounded-full bg-gradient-to-br from-emerald-100 to-teal-100 flex items-center justify-center">
                        <i class="fas fa-clock text-2xl text-emerald-500"></i>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <span class="px-2 py-1 bg-emerald-100 text-emerald-700 rounded text-xs font-semibold">
                        <i class="fas fa-arrow-down mr-1"></i>-2m
                    </span>
                    <span class="text-xs text-slate-500">forbedring</span>
                </div>
                <canvas id="chart2" class="mt-4 h-16 w-full"></canvas>
            </div>

            <!-- Gauge Card 3 -->
            <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-200">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <p class="text-sm text-slate-500 font-medium">Venter nå</p>
                        <p class="text-3xl font-bold text-slate-900 mt-1">18</p>
                    </div>
                    <div class="w-16 h-16 rounded-full bg-gradient-to-br from-amber-100 to-yellow-100 flex items-center justify-center">
                        <i class="fas fa-hourglass-half text-2xl text-amber-500"></i>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <span class="px-2 py-1 bg-amber-100 text-amber-700 rounded text-xs font-semibold">
                        <i class="fas fa-exclamation-triangle mr-1"></i>85%
                    </span>
                    <span class="text-xs text-slate-500">kapasitet</span>
                </div>
                <!-- Progress bar -->
                <div class="mt-4">
                    <div class="h-2 bg-slate-100 rounded-full overflow-hidden">
                        <div class="h-full bg-gradient-to-r from-amber-400 to-orange-500 rounded-full" style="width: 85%"></div>
                    </div>
                </div>
            </div>

            <!-- Gauge Card 4 -->
            <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-200">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <p class="text-sm text-slate-500 font-medium">Effektivitet</p>
                        <p class="text-3xl font-bold text-slate-900 mt-1">94%</p>
                    </div>
                    <div class="w-16 h-16 rounded-full bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center">
                        <i class="fas fa-bolt text-2xl text-violet-500"></i>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <span class="px-2 py-1 bg-violet-100 text-violet-700 rounded text-xs font-semibold">
                        <i class="fas fa-check mr-1"></i>God
                    </span>
                    <span class="text-xs text-slate-500">ytelse</span>
                </div>
                <canvas id="chart3" class="mt-4 h-16 w-full"></canvas>
            </div>
        </div>

        <!-- Main Chart Section -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
            <div class="lg:col-span-2 bg-white rounded-2xl p-6 shadow-sm border border-slate-200">
                <div class="flex items-center justify-between mb-6">
                    <div>
                        <h2 class="text-lg font-semibold text-slate-900">Aktivitet i dag</h2>
                        <p class="text-sm text-slate-500">Kunder per time</p>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="flex items-center gap-2 text-sm text-slate-600">
                            <span class="w-3 h-3 rounded-full bg-orange-500"></span>
                            Hovedkø
                        </span>
                        <span class="flex items-center gap-2 text-sm text-slate-600">
                            <span class="w-3 h-3 rounded-full bg-blue-500"></span>
                            Legekontor
                        </span>
                    </div>
                </div>
                <canvas id="mainChart" class="w-full h-64"></canvas>
            </div>

            <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-200">
                <h2 class="text-lg font-semibold text-slate-900 mb-4">Kø-fordeling</h2>
                <canvas id="pieChart" class="w-full h-48"></canvas>
                <div class="mt-6 space-y-3">
                    <div class="flex items-center justify-between">
                        <span class="flex items-center gap-2 text-sm">
                            <span class="w-3 h-3 rounded-full bg-orange-500"></span>
                            Hovedkø
                        </span>
                        <span class="font-semibold">45%</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="flex items-center gap-2 text-sm">
                            <span class="w-3 h-3 rounded-full bg-blue-500"></span>
                            Legekontor
                        </span>
                        <span class="font-semibold">35%</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="flex items-center gap-2 text-sm">
                            <span class="w-3 h-3 rounded-full bg-amber-500"></span>
                            Frisør
                        </span>
                        <span class="font-semibold">20%</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Queue Status Cards -->
        <div class="flex items-center justify-between mb-6">
            <h2 class="text-lg font-semibold text-slate-900">Sanntidsstatus</h2>
            <div class="flex items-center gap-2">
                <span class="flex items-center gap-2 text-sm text-slate-500">
                    <span class="w-2 h-2 rounded-full bg-emerald-500 pulse-dot"></span>
                    Live oppdateringer
                </span>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Queue 1 -->
            <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-200 border-l-4 border-l-emerald-500">
                <div class="flex items-start justify-between mb-4">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-orange-400 to-orange-500 flex items-center justify-center text-white">
                            <i class="fas fa-list text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-lg">Hovedkø</h3>
                            <span class="inline-flex items-center gap-1.5 text-xs text-emerald-600 font-medium">
                                <span class="w-1.5 h-1.5 rounded-full bg-emerald-500 pulse-dot"></span>
                                Aktiv
                            </span>
                        </div>
                    </div>
                    <button class="text-slate-400 hover:text-slate-600">
                        <i class="fas fa-ellipsis-v"></i>
                    </button>
                </div>

                <div class="grid grid-cols-3 gap-4 mb-4">
                    <div class="text-center p-3 bg-slate-50 rounded-xl">
                        <p class="text-2xl font-bold text-slate-900">8</p>
                        <p class="text-xs text-slate-500">Venter</p>
                    </div>
                    <div class="text-center p-3 bg-slate-50 rounded-xl">
                        <p class="text-2xl font-bold text-slate-900">45</p>
                        <p class="text-xs text-slate-500">Betjent</p>
                    </div>
                    <div class="text-center p-3 bg-slate-50 rounded-xl">
                        <p class="text-2xl font-bold text-slate-900">6m</p>
                        <p class="text-xs text-slate-500">Snitt</p>
                    </div>
                </div>

                <div class="mb-4">
                    <div class="flex justify-between text-sm mb-2">
                        <span class="text-slate-500">Kapasitet</span>
                        <span class="font-medium text-slate-900">35%</span>
                    </div>
                    <div class="h-2 bg-slate-100 rounded-full overflow-hidden">
                        <div class="h-full bg-gradient-to-r from-emerald-400 to-emerald-500 rounded-full" style="width: 35%"></div>
                    </div>
                </div>

                <div class="flex gap-2">
                    <button class="flex-1 py-2 bg-amber-100 text-amber-700 rounded-lg text-sm font-medium hover:bg-amber-200">
                        <i class="fas fa-pause mr-2"></i>Pause
                    </button>
                    <button class="py-2 px-3 bg-slate-100 text-slate-600 rounded-lg text-sm hover:bg-slate-200">
                        <i class="fas fa-qrcode"></i>
                    </button>
                    <button class="py-2 px-3 bg-slate-100 text-slate-600 rounded-lg text-sm hover:bg-slate-200">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
            </div>

            <!-- Queue 2 -->
            <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-200 border-l-4 border-l-emerald-500">
                <div class="flex items-start justify-between mb-4">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-400 to-blue-500 flex items-center justify-center text-white">
                            <i class="fas fa-user-md text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-lg">Legekontor</h3>
                            <span class="inline-flex items-center gap-1.5 text-xs text-emerald-600 font-medium">
                                <span class="w-1.5 h-1.5 rounded-full bg-emerald-500 pulse-dot"></span>
                                Aktiv
                            </span>
                        </div>
                    </div>
                    <button class="text-slate-400 hover:text-slate-600">
                        <i class="fas fa-ellipsis-v"></i>
                    </button>
                </div>

                <div class="grid grid-cols-3 gap-4 mb-4">
                    <div class="text-center p-3 bg-slate-50 rounded-xl">
                        <p class="text-2xl font-bold text-slate-900">3</p>
                        <p class="text-xs text-slate-500">Venter</p>
                    </div>
                    <div class="text-center p-3 bg-slate-50 rounded-xl">
                        <p class="text-2xl font-bold text-slate-900">28</p>
                        <p class="text-xs text-slate-500">Betjent</p>
                    </div>
                    <div class="text-center p-3 bg-slate-50 rounded-xl">
                        <p class="text-2xl font-bold text-slate-900">12m</p>
                        <p class="text-xs text-slate-500">Snitt</p>
                    </div>
                </div>

                <div class="mb-4">
                    <div class="flex justify-between text-sm mb-2">
                        <span class="text-slate-500">Kapasitet</span>
                        <span class="font-medium text-slate-900">15%</span>
                    </div>
                    <div class="h-2 bg-slate-100 rounded-full overflow-hidden">
                        <div class="h-full bg-gradient-to-r from-emerald-400 to-emerald-500 rounded-full" style="width: 15%"></div>
                    </div>
                </div>

                <div class="flex gap-2">
                    <button class="flex-1 py-2 bg-amber-100 text-amber-700 rounded-lg text-sm font-medium hover:bg-amber-200">
                        <i class="fas fa-pause mr-2"></i>Pause
                    </button>
                    <button class="py-2 px-3 bg-slate-100 text-slate-600 rounded-lg text-sm hover:bg-slate-200">
                        <i class="fas fa-qrcode"></i>
                    </button>
                    <button class="py-2 px-3 bg-slate-100 text-slate-600 rounded-lg text-sm hover:bg-slate-200">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
            </div>

            <!-- Queue 3 -->
            <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-200 border-l-4 border-l-amber-500">
                <div class="flex items-start justify-between mb-4">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-amber-400 to-amber-500 flex items-center justify-center text-white">
                            <i class="fas fa-cut text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-lg">Frisør</h3>
                            <span class="inline-flex items-center gap-1.5 text-xs text-amber-600 font-medium">
                                <span class="w-1.5 h-1.5 rounded-full bg-amber-500"></span>
                                Pauset
                            </span>
                        </div>
                    </div>
                    <button class="text-slate-400 hover:text-slate-600">
                        <i class="fas fa-ellipsis-v"></i>
                    </button>
                </div>

                <div class="grid grid-cols-3 gap-4 mb-4">
                    <div class="text-center p-3 bg-slate-50 rounded-xl">
                        <p class="text-2xl font-bold text-slate-400">0</p>
                        <p class="text-xs text-slate-500">Venter</p>
                    </div>
                    <div class="text-center p-3 bg-slate-50 rounded-xl">
                        <p class="text-2xl font-bold text-slate-900">15</p>
                        <p class="text-xs text-slate-500">Betjent</p>
                    </div>
                    <div class="text-center p-3 bg-slate-50 rounded-xl">
                        <p class="text-2xl font-bold text-slate-400">-</p>
                        <p class="text-xs text-slate-500">Snitt</p>
                    </div>
                </div>

                <div class="mb-4">
                    <div class="flex justify-between text-sm mb-2">
                        <span class="text-slate-500">Kapasitet</span>
                        <span class="font-medium text-slate-400">0%</span>
                    </div>
                    <div class="h-2 bg-slate-100 rounded-full overflow-hidden">
                        <div class="h-full bg-slate-300 rounded-full" style="width: 0%"></div>
                    </div>
                </div>

                <div class="flex gap-2">
                    <button class="flex-1 py-2 bg-emerald-100 text-emerald-700 rounded-lg text-sm font-medium hover:bg-emerald-200">
                        <i class="fas fa-play mr-2"></i>Start
                    </button>
                    <button class="py-2 px-3 bg-slate-100 text-slate-600 rounded-lg text-sm hover:bg-slate-200">
                        <i class="fas fa-qrcode"></i>
                    </button>
                    <button class="py-2 px-3 bg-slate-100 text-slate-600 rounded-lg text-sm hover:bg-slate-200">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <script>
        function ownerDashboard() {
            return {
                init() {
                    // Initialize charts after DOM is ready
                    this.$nextTick(() => {
                        this.initCharts();
                    });
                },
                initCharts() {
                    // Mini line charts
                    const miniChartOptions = {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: { x: { display: false }, y: { display: false } },
                        elements: { point: { radius: 0 }, line: { tension: 0.4 } }
                    };

                    new Chart(document.getElementById('chart1'), {
                        type: 'line',
                        data: {
                            labels: ['1','2','3','4','5','6','7','8'],
                            datasets: [{
                                data: [20, 35, 40, 30, 45, 50, 55, 60],
                                borderColor: '#f97316',
                                fill: true,
                                backgroundColor: 'rgba(249, 115, 22, 0.1)'
                            }]
                        },
                        options: miniChartOptions
                    });

                    new Chart(document.getElementById('chart2'), {
                        type: 'line',
                        data: {
                            labels: ['1','2','3','4','5','6','7','8'],
                            datasets: [{
                                data: [12, 11, 10, 9, 10, 9, 8, 8],
                                borderColor: '#10b981',
                                fill: true,
                                backgroundColor: 'rgba(16, 185, 129, 0.1)'
                            }]
                        },
                        options: miniChartOptions
                    });

                    new Chart(document.getElementById('chart3'), {
                        type: 'line',
                        data: {
                            labels: ['1','2','3','4','5','6','7','8'],
                            datasets: [{
                                data: [85, 87, 88, 90, 91, 92, 93, 94],
                                borderColor: '#8b5cf6',
                                fill: true,
                                backgroundColor: 'rgba(139, 92, 246, 0.1)'
                            }]
                        },
                        options: miniChartOptions
                    });

                    // Main chart
                    new Chart(document.getElementById('mainChart'), {
                        type: 'bar',
                        data: {
                            labels: ['08:00', '09:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00'],
                            datasets: [
                                {
                                    label: 'Hovedkø',
                                    data: [12, 19, 25, 30, 28, 35, 40, 38, 32],
                                    backgroundColor: '#f97316',
                                    borderRadius: 6
                                },
                                {
                                    label: 'Legekontor',
                                    data: [8, 12, 15, 18, 16, 20, 22, 20, 18],
                                    backgroundColor: '#3b82f6',
                                    borderRadius: 6
                                }
                            ]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: { display: false }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    grid: { color: '#f1f5f9' }
                                },
                                x: {
                                    grid: { display: false }
                                }
                            }
                        }
                    });

                    // Pie chart
                    new Chart(document.getElementById('pieChart'), {
                        type: 'doughnut',
                        data: {
                            labels: ['Hovedkø', 'Legekontor', 'Frisør'],
                            datasets: [{
                                data: [45, 35, 20],
                                backgroundColor: ['#f97316', '#3b82f6', '#f59e0b'],
                                borderWidth: 0
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            cutout: '70%',
                            plugins: {
                                legend: { display: false }
                            }
                        }
                    });
                }
            }
        }
    </script>
</body>
</html>
