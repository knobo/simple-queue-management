<!DOCTYPE html>
<html lang="no" x-data="ownerDashboard()">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kø-eier Dashboard - Variant 3 (Analytics)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .heatmap-cell { transition: all 0.2s; }
        .heatmap-cell:hover { transform: scale(1.1); z-index: 10; }
    </style>
</head>
<body class="bg-orange-50 text-gray-800">
    <div class="flex h-screen">
        <!-- Sidebar -->
        <aside class="w-64 bg-white border-r border-orange-100 flex-shrink-0">
            <div class="h-16 flex items-center px-6 border-b border-orange-100">
                <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-amber-500 flex items-center justify-center text-white font-bold shadow-lg shadow-orange-200">SQ</div>
                <span class="ml-3 font-semibold text-lg text-gray-900">Simple Queue</span>
            </div>
            <nav class="p-4 space-y-1">
                <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-xl bg-orange-100 text-orange-700 font-medium">
                    <i class="fas fa-chart-pie w-5"></i>Analytics
                </a>
                <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-xl text-gray-600 hover:bg-orange-50 hover:text-orange-700">
                    <i class="fas fa-list w-5"></i>Mine køer
                </a>
                <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-xl text-gray-600 hover:bg-orange-50 hover:text-orange-700">
                    <i class="fas fa-calendar w-5"></i>Tidslinje
                </a>
                <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-xl text-gray-600 hover:bg-orange-50 hover:text-orange-700">
                    <i class="fas fa-cog w-5"></i>Innstillinger
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 overflow-auto">
            <header class="h-16 bg-white border-b border-orange-100 flex items-center justify-between px-8 sticky top-0 z-10">
                <div>
                    <h1 class="text-xl font-semibold text-gray-900">Analytics Dashboard</h1>
                    <p class="text-sm text-gray-500">Innsikt og oversikt over dine køer</p>
                </div>
                <div class="flex items-center gap-4">
                    <select class="px-3 py-2 bg-white border border-orange-200 rounded-lg text-sm focus:ring-2 focus:ring-orange-500">
                        <option>Siste 24 timer</option>
                        <option>Siste 7 dager</option>
                        <option>Siste 30 dager</option>
                    </select>
                    <button class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium">
                        <i class="fas fa-download mr-2"></i>Export
                    </button>
                </div>
            </header>

            <div class="p-8">
                <!-- Gauge Cards -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white rounded-2xl p-6 shadow-sm border border-orange-100">
                        <div class="flex items-center justify-between mb-4">
                            <p class="text-sm text-gray-500">Kundetilfredshet</p>
                            <span class="text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full">+5%</span>
                        </div>
                        <div class="flex items-end gap-2">
                            <span class="text-4xl font-bold text-gray-900">4.8</span>
                            <span class="text-lg text-gray-400 mb-1">/5</span>
                        </div>
                        <div class="flex items-center gap-1 mt-2 text-amber-500">
                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl p-6 shadow-sm border border-orange-100">
                        <div class="flex items-center justify-between mb-4">
                            <p class="text-sm text-gray-500">Effektivitet</p>
                            <span class="text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full">+12%</span>
                        </div>
                        <div class="flex items-end gap-2">
                            <span class="text-4xl font-bold text-gray-900">87%</span>
                        </div>
                        <div class="w-full h-2 bg-gray-100 rounded-full mt-3 overflow-hidden">
                            <div class="h-full bg-gradient-to-r from-orange-400 to-amber-500 rounded-full" style="width: 87%"></div>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl p-6 shadow-sm border border-orange-100">
                        <div class="flex items-center justify-between mb-4">
                            <p class="text-sm text-gray-500">Kunder i dag</p>
                            <span class="text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full">+8%</span>
                        </div>
                        <div class="flex items-end gap-2">
                            <span class="text-4xl font-bold text-gray-900">247</span>
                        </div>
                        <p class="text-sm text-gray-500 mt-2">Gj.snitt 206/dag</p>
                    </div>
                    <div class="bg-white rounded-2xl p-6 shadow-sm border border-orange-100">
                        <div class="flex items-center justify-between mb-4">
                            <p class="text-sm text-gray-500">Ventetid</p>
                            <span class="text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full">-15%</span>
                        </div>
                        <div class="flex items-end gap-2">
                            <span class="text-4xl font-bold text-gray-900">8m</span>
                        </div>
                        <p class="text-sm text-gray-500 mt-2">32s i snitt</p>
                    </div>
                </div>

                <!-- Charts Row -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <div class="bg-white rounded-2xl p-6 shadow-sm border border-orange-100">
                        <h3 class="text-lg font-semibold mb-4">Kundevolum over tid</h3>
                        <canvas id="volumeChart" height="200"></canvas>
                    </div>
                    <div class="bg-white rounded-2xl p-6 shadow-sm border border-orange-100">
                        <h3 class="text-lg font-semibold mb-4">Ventetid per kø</h3>
                        <canvas id="waitTimeChart" height="200"></canvas>
                    </div>
                </div>

                <!-- Heatmap -->
                <div class="bg-white rounded-2xl p-6 shadow-sm border border-orange-100 mb-8">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">Aktivitetsheatmap</h3>
                        <div class="flex items-center gap-2 text-sm text-gray-500">
                            <span>Lav</span>
                            <div class="flex gap-1">
                                <div class="w-4 h-4 rounded bg-orange-100"></div>
                                <div class="w-4 h-4 rounded bg-orange-200"></div>
                                <div class="w-4 h-4 rounded bg-orange-300"></div>
                                <div class="w-4 h-4 rounded bg-orange-400"></div>
                                <div class="w-4 h-4 rounded bg-orange-500"></div>
                            </div>
                            <span>Høy</span>
                        </div>
                    </div>
                    <div class="overflow-x-auto">
                        <div class="min-w-[600px]">
                            <div class="grid grid-cols-8 gap-1 mb-2">
                                <div class="text-xs text-gray-400 text-center"></div>
                                <div class="text-xs text-gray-500 text-center font-medium">Man</div>
                                <div class="text-xs text-gray-500 text-center font-medium">Tir</div>
                                <div class="text-xs text-gray-500 text-center font-medium">Ons</div>
                                <div class="text-xs text-gray-500 text-center font-medium">Tor</div>
                                <div class="text-xs text-gray-500 text-center font-medium">Fre</div>
                                <div class="text-xs text-gray-500 text-center font-medium">Lør</div>
                                <div class="text-xs text-gray-500 text-center font-medium">Søn</div>
                            </div>
                            <div class="space-y-1">
                                <template x-for="hour in ['08-10', '10-12', '12-14', '14-16', '16-18']">
                                    <div class="grid grid-cols-8 gap-1">
                                        <div class="text-xs text-gray-500 flex items-center" x-text="hour"></div>
                                        <template x-for="day in [1,2,3,4,5,6,7]">
                                            <div class="heatmap-cell h-8 rounded cursor-pointer" 
                                                 :class="{
                                                     'bg-orange-100': Math.random() > 0.8,
                                                     'bg-orange-200': Math.random() > 0.6 && Math.random() <= 0.8,
                                                     'bg-orange-300': Math.random() > 0.4 && Math.random() <= 0.6,
                                                     'bg-orange-400': Math.random() > 0.2 && Math.random() <= 0.4,
                                                     'bg-orange-500': Math.random() <= 0.2
                                                 }"
                                                 :title="hour + ' - ' + Math.floor(Math.random() * 50) + ' kunder'">
                                            </div>
                                        </template>
                                    </div>
                                </template>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Queue List with Mini Charts -->
                <div class="bg-white rounded-2xl shadow-sm border border-orange-100 overflow-hidden">
                    <div class="p-6 border-b border-orange-100">
                        <h3 class="text-lg font-semibold">Kø-oversikt</h3>
                    </div>
                    <div class="divide-y divide-orange-50">
                        <div class="p-6 flex items-center gap-6">
                            <div class="w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-list text-emerald-600 text-xl"></i>
                            </div>
                            <div class="flex-1 min-w-0">
                                <div class="flex items-center gap-3">
                                    <h4 class="font-semibold text-lg">Hovedkø</h4>
                                    <span class="px-2 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-700">Aktiv</span>
                                    <span class="flex items-center gap-1 text-xs text-emerald-600">
                                        <span class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></span>Live
                                    </span>
                                </div>
                                <p class="text-sm text-gray-500">Resepsjonen • 8 venter • 45 betjent i dag</p>
                            </div>
                            <div class="hidden md:block w-32">
                                <div class="flex items-center gap-2 text-sm">
                                    <span class="text-gray-500">Kapasitet</span>
                                    <span class="font-medium">35%</span>
                                </div>
                                <div class="h-2 bg-gray-100 rounded-full overflow-hidden">
                                    <div class="h-full bg-emerald-500 rounded-full" style="width: 35%"></div>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <button class="px-3 py-1.5 text-sm font-medium text-amber-700 bg-amber-100 rounded-lg hover:bg-amber-200">
                                    <i class="fas fa-pause mr-1"></i>Pause
                                </button>
                                <button class="p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg">
                                    <i class="fas fa-qrcode"></i>
                                </button>
                            </div>
                        </div>
                        <div class="p-6 flex items-center gap-6">
                            <div class="w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-user-md text-blue-600 text-xl"></i>
                            </div>
                            <div class="flex-1 min-w-0">
                                <div class="flex items-center gap-3">
                                    <h4 class="font-semibold text-lg">Legekontor</h4>
                                    <span class="px-2 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-700">Aktiv</span>
                                    <span class="flex items-center gap-1 text-xs text-emerald-600">
                                        <span class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></span>Live
                                    </span>
                                </div>
                                <p class="text-sm text-gray-500">Etasje 2 • 3 venter • 28 betjent i dag</p>
                            </div>
                            <div class="hidden md:block w-32">
                                <div class="flex items-center gap-2 text-sm">
                                    <span class="text-gray-500">Kapasitet</span>
                                    <span class="font-medium">15%</span>
                                </div>
                                <div class="h-2 bg-gray-100 rounded-full overflow-hidden">
                                    <div class="h-full bg-emerald-500 rounded-full" style="width: 15%"></div>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <button class="px-3 py-1.5 text-sm font-medium text-amber-700 bg-amber-100 rounded-lg hover:bg-amber-200">
                                    <i class="fas fa-pause mr-1"></i>Pause
                                </button>
                                <button class="p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg">
                                    <i class="fas fa-qrcode"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        function ownerDashboard() {
            return {
                init() {
                    // Volume Chart
                    new Chart(document.getElementById('volumeChart'), {
                        type: 'line',
                        data: {
                            labels: ['06:00', '08:00', '10:00', '12:00', '14:00', '16:00', '18:00', '20:00'],
                            datasets: [{
                                label: 'Kunder',
                                data: [12, 45, 78, 65, 89, 72, 45, 23],
                                borderColor: '#f97316',
                                backgroundColor: 'rgba(249, 115, 22, 0.1)',
                                fill: true,
                                tension: 0.4
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: { legend: { display: false } },
                            scales: {
                                y: { beginAtZero: true, grid: { color: '#f3f4f6' } },
                                x: { grid: { display: false } }
                            }
                        }
                    });

                    // Wait Time Chart
                    new Chart(document.getElementById('waitTimeChart'), {
                        type: 'bar',
                        data: {
                            labels: ['Hovedkø', 'Legekontor', 'Frisør', 'Kundeservice'],
                            datasets: [{
                                label: 'Minutter',
                                data: [6, 12, 8, 5],
                                backgroundColor: ['#10b981', '#3b82f6', '#f59e0b', '#8b5cf6'],
                                borderRadius: 6
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: { legend: { display: false } },
                            scales: {
                                y: { beginAtZero: true, grid: { color: '#f3f4f6' } },
                                x: { grid: { display: false } }
                            }
                        }
                    });
                }
            }
        }
    </script>
</body>
</html>
